<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="vue.js"></script>
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
    <style>
        .box{width:100px;height: 100px;background: red;position: absolute}
    </style>
</head>
<body>
        <!-- <div id="app">
                <input type="text" v-bulala v-model="ipt2">
          </div>  -->
          <hr>
          <div id="app">
                <div class="box" v-drag></div>
                <div class="box" v-drag></div>
        </div>
    <script>
        Vue.directive('drag',function(el){//指令里面的this指向window
            el.onmousedown=function(ev){
                var disX=ev.clientX-this.offsetLeft;
                var disY=ev.clientY-this.offsetTop;
                document.onmousemove=function(ev){
                    el.style.left=ev.clientX-disX+'px';
                    el.style.top=ev.clientY-disY+'px';
                }
                document.onmouseup=function(){
                    document.onmousemove=document.onmouseup=null;
              }
              return false;
            }
        //     $(el).mousedown(function(ev){
        //         var disX=ev.clientX-$(this).position().offsetLeft;
        //         var disY=ev.clientY-$(this).position().offsetTop;
        //         $(document).mousemove(fnMove)
        //         function fnMove(ev){
        //             $(el).css({
        //                 left:ev.pageX-disX+'px',
        //                 top:ev.pageY-disY+'px'
        //             })
        //         }
        //         $(document).mouseup(fnUp);
        //             function fnUp(){
        //             $('document').off('mousemove',fnMove)
        //             $('document').off('mousemove',fnUp)

        //        }
        //        return false
        //     })
         })
        // Vue.directive('bulala',function(el){
                
        //              console.log('aa',el)//简写是bind和updated这两种状态
        //          }
        //         )
            // Vue.directive('bulala',{
            //      bind:function(el,binding){
            //          console.log('指令第一次绑定到元素时调用')
            //      },
            //      inserted:function(el,binding){
            //          console.log('绑定指令的元素插入到父节点时调用')
            //      },
            //      updated(){
            //         console.log('指令所在的元素的model层的数据，view有更新请求时');
            //      },
            //      componentUpdated(){
            //          console.log('更新完成时')
            //      } 
            //     })
               let vm=new Vue({
                   el:'#app',
                   data:{
                       ipt2:''
                   },

               }) 
    </script>


</body>
</html>